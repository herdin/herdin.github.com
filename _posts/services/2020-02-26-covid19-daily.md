---
layout: post
title: 코로나19 확진자 일별 추이
date: 2020-02-26
tags: services
---

<canvas id="myChart"></canvas>

<script>
require(['init'], (initTest) => {
  require(['jquery', '/assets/vendor/Chart.bundle.min.js'], function(jquery, Chart){
    $(document).ready(function(){
      let ctx = document.getElementById('myChart').getContext('2d');

      const COL_COUNT = 4;

      const INDEX_DATE = 0;
      const INDEX_COUNT = 1;
      const INDEX_TYPE = 2;
      const INDEX_DESC = 3;

      const DOMESTIC = '국내';
      const SEOUL = '서울';
      const BUSAN = '부산';
      const DAEGU = '대구';
      const GYEONBUK = '경북';

      const covid19 = [
        ['2020-01-27', '4', DOMESTIC, '오전, 질병관리본부'],
        ['2020-02-01', '12', DOMESTIC, '09시, 질병관리본부'],
        ['2020-02-02', '15', DOMESTIC, '09시, 질병관리본부'],
        ['2020-02-09', '25', DOMESTIC, '09시, 질병관리본부'],
        ['2020-02-17', '30', DOMESTIC, '09시, 질병관리본부'],
      	['2020-02-18', '31', DOMESTIC, '09시, 질병관리본부'],
        ['2020-02-20', '104', DOMESTIC, '16시, 질병관리본부'],
        ['2020-02-21', '156', DOMESTIC, '09시, 질병관리본부'],
        ['2020-02-22', '433', DOMESTIC, '16시, 질병관리본부'],
        ['2020-02-23', '602', DOMESTIC, '16시, 질병관리본부'],
        ['2020-02-24', '763', DOMESTIC, '09시, 질병관리본부'],
        ['2020-02-25', '893', DOMESTIC, '09시, 중앙방역대책본부'],
      	['2020-02-26', '1146', DOMESTIC, '09시, 질병관리본부'],

        ['2020-02-25', '33', SEOUL, '16시, 질병관리본부'],
        ['2020-02-26', '41', SEOUL, '16시, 질병관리본부'],

        ['2020-02-25', '43', BUSAN, '16시, 질병관리본부'],
        ['2020-02-26', '58', BUSAN, '16시, 질병관리본부'],

        ['2020-02-25', '541', DAEGU, '16시, 질병관리본부'],
        ['2020-02-26', '705', DAEGU, '16시, 질병관리본부'],

        ['2020-02-25', '240', GYEONBUK, '16시, 질병관리본부'],
        ['2020-02-26', '309', GYEONBUK, '16시, 질병관리본부'],
      ];

      let covid19_labels = covid19
        .map(d => d[INDEX_DATE])
        .reduce((unique, item) => unique.includes(item)? unique:[...unique, item], []);

      function getCountByType(standard, source, type) {
      	return standard
      		.slice()
      		.map(l => {
      			var filteredItems = source.filter(d => d[INDEX_TYPE] == type).filter(s => s[INDEX_DATE]==l);
      			if(filteredItems.length > 0) {
      				return filteredItems[0][INDEX_COUNT];
      			} else {
      				return '0';
      			}
      		});
      }

      let chart = new Chart(ctx, {
          // The type of chart we want to create
          type: 'line',

          // The data for our dataset
          data: {
              labels: covid19_labels,
              datasets: [
                {
                    label: DOMESTIC,
                    backgroundColor: 'rgba(0, 0, 0, 0.0)',
                    borderColor: 'rgba(235, 64, 52, 0.3)',
                    data: getCountByType(covid19_labels, covid19, DOMESTIC),
                },
                {
                    label: SEOUL,
                    backgroundColor: 'rgba(0, 0, 0, 0.0)',
                    borderColor: 'rgba(235, 164, 52, 0.3)',
                    data: getCountByType(covid19_labels, covid19, SEOUL),
                },
                {
                    label: BUSAN,
                    backgroundColor: 'rgba(0, 0, 0, 0.0)',
                    borderColor: 'rgba(235, 220, 52, 0.3)',
                    data: getCountByType(covid19_labels, covid19, BUSAN),
                },
                {
                    label: DAEGU,
                    backgroundColor: 'rgba(0, 0, 0, 0.0)',
                    borderColor: 'rgba(168, 235, 52, 0.3)',
                    data: getCountByType(covid19_labels, covid19, DAEGU),
                },
                {
                    label: GYEONBUK,
                    backgroundColor: 'rgba(0, 0, 0, 0.0)',
                    borderColor: 'rgba(52, 165, 235, 0.3)',
                    data: getCountByType(covid19_labels, covid19, GYEONBUK),
                },
              ]
          },

          // Configuration options go here
          options: {}
      });
    });//end of document ready
  });//end of chartjs
});//end of init
</script>

지역 `2020-02-25` 부터 수집.

출처
- [코로나바이러스감염증-19](http://ncov.mohw.go.kr/bdBoardList_Real.do?brdId=1&brdGubun=13&ncvContSeq=&contSeq=&board_id=&gubun=)
