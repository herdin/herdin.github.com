---
layout: post
title: 코로나19 확진자 일별 추이
date: 2020-02-26
tags: services
---

<canvas id="myChart"></canvas>

<script>
require(['init'], (initTest) => {
  require(['jquery', '/assets/vendor/Chart.bundle.min.js'], function(jquery, Chart){
    $(document).ready(function(){
      let ctx = document.getElementById('myChart').getContext('2d');

      const COL_COUNT = 4;

      const INDEX_DATE = 0;
      const INDEX_COUNT = 1;
      const INDEX_TYPE = 2;
      const INDEX_DESC = 3;

      const DOMESTIC = '국내확진자';
      const SEOUL = '서울';
      const BUSAN = '부산';
      const DAEGU = '대구';
      const GYEONBUK = '경북';

      const covid19 = [
        ['2020-01-27', '4', DOMESTIC, '오전, 질병관리본부'],
        ['2020-02-01', '12', DOMESTIC, '09시, 질병관리본부'],
        ['2020-02-02', '15', DOMESTIC, '09시, 질병관리본부'],
        ['2020-02-09', '25', DOMESTIC, '09시, 질병관리본부'],
        ['2020-02-17', '30', DOMESTIC, '09시, 질병관리본부'],
      	['2020-02-18', '31', DOMESTIC, '09시, 질병관리본부'],
        ['2020-02-20', '104', DOMESTIC, '16시, 질병관리본부'],
        ['2020-02-21', '156', DOMESTIC, '09시, 질병관리본부'],
        ['2020-02-22', '433', DOMESTIC, '16시, 질병관리본부'],
        ['2020-02-23', '602', DOMESTIC, '16시, 질병관리본부'],
        ['2020-02-24', '763', DOMESTIC, '09시, 질병관리본부'],
        ['2020-02-25', '893', DOMESTIC, '09시, 중앙방역대책본부'],
      	['2020-02-26', '1146', DOMESTIC, '09시, 질병관리본부'],

        ['2020-01-25', '33', SEOUL, '16시, 질병관리본부'],
        ['2020-01-25', '43', BUSAN, '16시, 질병관리본부'],
        ['2020-01-25', '541', DAEGU, '16시, 질병관리본부'],
        ['2020-01-25', '240', GYEONBUK, '16시, 질병관리본부'],
      ];
      let chart = new Chart(ctx, {
          // The type of chart we want to create
          type: 'line',

          // The data for our dataset
          data: {
              labels:
                covid19
                .map(d => d[INDEX_DATE])
                .reduce((unique, item) => unique.includes(item)? unique:[...unique, item], []),
              datasets: [
                {
                    label: DOMESTIC,
                    backgroundColor: 'rgba(0, 0, 0, 0.0)',
                    borderColor: 'rgba(235, 64, 52, 0.3)',
                    data:
                      covid19
                      .filter(d => d[INDEX_TYPE] == DOMESTIC)
                      .map(d => d[INDEX_COUNT]),
                },
                {
                    label: SEOUL,
                    backgroundColor: 'rgba(0, 0, 0, 0.0)',
                    borderColor: 'rgba(235, 164, 52, 0.3)',
                    data:
                      covid19
                      .filter(d => d[INDEX_TYPE] == SEOUL)
                      .map(d => d[INDEX_COUNT]),
                },
                {
                    label: BUSAN,
                    backgroundColor: 'rgba(0, 0, 0, 0.0)',
                    borderColor: 'rgba(235, 220, 52, 0.3)',
                    data:
                      covid19
                      .filter(d => d[INDEX_TYPE] == BUSAN)
                      .map(d => d[INDEX_COUNT]),
                },
                {
                    label: DAEGU,
                    backgroundColor: 'rgba(0, 0, 0, 0.0)',
                    borderColor: 'rgba(168, 235, 52, 0.3)',
                    data:
                      covid19
                      .filter(d => d[INDEX_TYPE] == DAEGU)
                      .map(d => d[INDEX_COUNT]),
                },
                {
                    label: GYEONBUK,
                    backgroundColor: 'rgba(0, 0, 0, 0.0)',
                    borderColor: 'rgba(52, 165, 235, 0.3)',
                    data:
                      covid19
                      .filter(d => d[INDEX_TYPE] == GYEONBUK)
                      .map(d => d[INDEX_COUNT]),
                },
              ]
          },

          // Configuration options go here
          options: {}
      });
    });//end of document ready
  });//end of chartjs
});//end of init
</script>
